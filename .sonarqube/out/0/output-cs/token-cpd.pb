¾X
/e:\repos\projects-dotnet\WorkShopNet\Program.cs
	namespace 	
myApp
 
{ 
public		 
class			 
App		 
{

 
static 

string 
id_1 
= 
null 
; 
static 

string 
id_2 
= 
$str 
;  
static 

string 
id_3 
= 
$str <
;< =
static 

string 
id_4 
= 
$str '
;' (
static 

void 
Main 
( 
string 
[ 
] 
args "
)" #
{ 

CallMethod 
( 
ValidateStringRegex $
,$ %
$str& ;
); <
;< =

CallMethod 
( 
ValidateStringIf !
,! "
$str# 5
)5 6
;6 7

CallMethod 
( $
ValidateStringExceptions )
,) *
$str+ E
)E F
;F G
} 
static 

List 
< 
string 
> 
ValidateStringRegex +
(+ ,
string, 2
id3 5
)5 6
{ 
List 

<
 
string 
> 

listErrors 
= 
new  #
List$ (
<( )
string) /
>/ 0
(0 1
)1 2
;2 3
var 	
regexLenghtMin
 
= 
new 
Regex $
($ %
$str% 8
)8 9
;9 :
var 	
regexLenghtMax
 
= 
new 
Regex $
($ %
$str% 8
)8 9
;9 :
if 
(	 

String
 
. 
IsNullOrEmpty 
( 
id !
)! "
)" #
{   

listErrors!! 
.!! 
Add!! 
(!! 
$str!! *
)!!* +
;!!+ ,
}"" 
else## 

{$$ 
if&& 

(&& 
regexLenghtMin&& 
.&& 
IsMatch&& "
(&&" #
id&&# %
)&&% &
)&&& '
{'' 	

listErrors((
 
.(( 
Add(( 
((( 
$str(( ;
)((; <
;((< =
})) 	
else** 
if** 
(** 
regexLenghtMax** 
.**  
IsMatch**  '
(**' (
id**( *
)*** +
)**+ ,
{++ 	

listErrors,,
 
.,, 
Add,, 
(,, 
$str,, <
),,< =
;,,= >
}-- 	
var.. 
regex.. 
=.. 
new.. 
Regex.. 
(.. 
$str.. )
)..) *
;..* +
if// 

(// 
!// 
regex// 
.// 
IsMatch// 
(// 
id// 
)// 
)// 
{00 	

listErrors11
 
.11 
Add11 
(11 
$str11 >
)11> ?
;11? @
}22 	
}33 
return44 

listErrors44 
;44 
}55 
static66 

List66 
<66 
string66 
>66 
ValidateStringIf66 (
(66( )
string66) /
id660 2
)662 3
{77 
List88 

<88
 
string88 
>88 

listErrors88 
=88 
new88  #
List88$ (
<88( )
string88) /
>88/ 0
(880 1
)881 2
;882 3
if99 
(99	 

String99
 
.99 
IsNullOrEmpty99 
(99 
id99 !
)99! "
)99" #
{:: 

listErrors;; 
.;; 
Add;; 
(;; 
$str;; *
);;* +
;;;+ ,
}<< 
else== 

{>> 
if?? 

(?? 
id?? 
.?? 
Length?? 
<?? 
$num?? 
)?? 
{@@ 	

listErrorsAA
 
.AA 
AddAA 
(AA 
$strAA ;
)AA; <
;AA< =
}BB 	
elseCC 
ifCC 
(CC 
idCC 
.CC 
LengthCC 
>CC 
$numCC 
)CC  
{DD 	

listErrorsEE
 
.EE 
AddEE 
(EE 
$strEE <
)EE< =
;EE= >
}FF 	
elseGG 
ifGG 
(GG 
!GG 
idGG 
[GG 
$numGG 
]GG 
.GG 
EqualsGG 
(GG 
idGG !
[GG! "
$numGG" #
]GG# $
.GG$ %
ToStringGG% -
(GG- .
)GG. /
.GG/ 0
ToUpperGG0 7
(GG7 8
)GG8 9
)GG9 :
)GG: ;
{HH 	

listErrorsII
 
.II 
AddII 
(II 
$strII >
)II> ?
;II? @
}JJ 	
}KK 
returnLL 

listErrorsLL 
;LL 
}MM 
staticNN 

ListNN 
<NN 
stringNN 
>NN $
ValidateStringExceptionsNN 0
(NN0 1
stringNN1 7
idNN8 :
)NN: ;
{OO 
ListPP 

<PP
 
stringPP 
>PP 

listErrorsPP 
=PP 
newPP  #
ListPP$ (
<PP( )
stringPP) /
>PP/ 0
(PP0 1
)PP1 2
;PP2 3
tryQQ 	
{RR 
ifSS 

(SS 
idSS 
.SS 
LengthSS 
<SS 
$numSS 
)SS 
{TT 	
throwUU
 
newUU 
	ExceptionUU 
(UU 
$strUU @
)UU@ A
;UUA B
}VV 	
elseWW 
ifWW 
(WW 
idWW 
.WW 
LengthWW 
>WW 
$numWW 
)WW  
{XX 	
throwYY
 
newYY 
	ExceptionYY 
(YY 
$strYY A
)YYA B
;YYB C
}ZZ 	
}[[ 
catch\\ 
(\\ 
	Exception\\ 
e\\ 
)\\ 
{]] 

listErrors^^ 
.^^ 
Add^^ 
(^^ 
e^^ 
.^^ 
Message^^  
)^^  !
;^^! "
}__ 
try`` 	
{aa 
ifbb 

(bb 
idbb 
[bb 
$numbb 
]bb 
.bb 
Equalsbb 
(bb 
idbb 
[bb 
$numbb 
]bb 
.bb 
ToStringbb '
(bb' (
)bb( )
.bb) *
ToUpperbb* 1
(bb1 2
)bb2 3
)bb3 4
)bb4 5
{cc 	
throwdd
 
newdd 
	Exceptiondd 
(dd 
$strdd C
)ddC D
;ddD E
}ee 	
}ff 
catchgg 
(gg 
	Exceptiongg 
egg 
)gg 
{hh 

listErrorsii 
.ii 
Addii 
(ii 
eii 
.ii 
Messageii  
)ii  !
;ii! "
}jj 
returnll 

listErrorsll 
;ll 
}mm 
delegatepp 
Listpp 
<pp 
stringpp 
>pp 
ValidateMethodpp (
(pp( )
stringpp) /
idpp0 2
)pp2 3
;pp3 4
staticrr 

voidrr 

CallMethodrr 
(rr 
ValidateMethodrr )
methodrr* 0
,rr0 1
stringrr2 8

nameMethodrr9 C
)rrC D
{ss 
inttt 	

cycles_maxtt
 
=tt 
$numtt  
;tt  !
longuu 

beforeuu 
,uu 
afteruu 
;uu 
intvv 	
countvv
 
;vv 
	Stopwatchww 
timeMeasureww 
;ww 
GCxx 
.xx 	
Collectxx	 
(xx 
)xx 
;xx 
GCyy 
.yy 	$
WaitForPendingFinalizersyy	 !
(yy! "
)yy" #
;yy# $
GCzz 
.zz 	
Collectzz	 
(zz 
)zz 
;zz 
before{{ 
={{ 
System{{ 
.{{ 
Diagnostics{{ !
.{{! "
Process{{" )
.{{) *
GetCurrentProcess{{* ;
({{; <
){{< =
.{{= >
WorkingSet64{{> J
;{{J K
count|| 
=|| 
$num|| 
;|| 
timeMeasure}} 
=}} 
new}} 
	Stopwatch}} !
(}}! "
)}}" #
;}}# $
timeMeasure~~ 
.~~ 
Start~~ 
(~~ 
)~~ 
;~~ 
while 
( 
count 
< 

cycles_max 
)  
{
€€ 
method
 
(
 
id_1
 
)
 
;
 
method
‚‚ 
(
‚‚ 
id_2
‚‚ 
)
‚‚ 
;
‚‚ 
method
ƒƒ 
(
ƒƒ 
id_3
ƒƒ 
)
ƒƒ 
;
ƒƒ 
method
„„ 
(
„„ 
id_4
„„ 
)
„„ 
;
„„ 
count
…… 
++
…… 
;
…… 
}
†† 
timeMeasure
‡‡ 
.
‡‡ 
Stop
‡‡ 
(
‡‡ 
)
‡‡ 
;
‡‡ 
after
ˆˆ 
=
ˆˆ 
System
ˆˆ 
.
ˆˆ 
Diagnostics
ˆˆ  
.
ˆˆ  !
Process
ˆˆ! (
.
ˆˆ( )
GetCurrentProcess
ˆˆ) :
(
ˆˆ: ;
)
ˆˆ; <
.
ˆˆ< =
WorkingSet64
ˆˆ= I
;
ˆˆI J
Console
‰‰ 
.
‰‰ 
	WriteLine
‰‰ 
(
‰‰ 
$"
‰‰ 
$str
‰‰ 
{
‰‰  

nameMethod
‰‰  *
}
‰‰* +
$str
‰‰+ -
{
‰‰- .
timeMeasure
‰‰. 9
.
‰‰9 :
Elapsed
‰‰: A
.
‰‰A B
TotalMilliseconds
‰‰B S
}
‰‰S T
$str
‰‰T k
{
‰‰k l
GetMemoryUsage
‰‰l z
(
‰‰z {
before‰‰{ 
,‰‰ ‚
after‰‰ƒ ˆ
)‰‰ˆ ‰
}‰‰‰ Š
$str‰‰Š 
"‰‰ Ž
)‰‰Ž 
;‰‰ 
}
ŠŠ 
static
 

long
 
GetMemoryUsage
 
(
 
long
 #
before
$ *
,
* +
long
, 0
after
1 6
)
6 7
{
 
return
‘‘ 
(
‘‘ 
after
‘‘ 
-
‘‘ 
before
‘‘ 
)
‘‘ 
/
‘‘ 
$num
‘‘  $
;
‘‘$ %
}
’’ 
}
”” 
}•• 